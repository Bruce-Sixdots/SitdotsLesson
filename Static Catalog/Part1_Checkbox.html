<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>Checkbox-X 範例</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .tab {
            overflow: hidden;
            border: 1px solid #ccc;
            background-color: #f1f1f1;
        }
        .tab button {
            background-color: inherit;
            float: left;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 16px;
            transition: 0.3s;
        }
        .tab button:hover {
            background-color: #ddd;
        }
        .tab button.active {
            background-color: #ccc;
        }
        .tabcontent {
            display: none;
            padding: 20px;
            border: 1px solid #ccc;
            border-top: none;
        }
        /* checkbox-x.css */
        .cbx,.cbx-container{text-align:center}.cbx,.cbx-container,.cbx-label{vertical-align:middle;cursor:pointer;display:inline-block}.cbx-loading{width:25px;height:25px;font-size:0;color:#fff;background:url(../img/loading.gif)top left no-repeat;border:none}.cbx{border-radius:3px;position:relative}.cbx,.cbx-container,.cbx-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cbx-label{font-weight:400;margin:0}.cbx-label.disabled{cursor:not-allowed;opacity:.65}.cbx-native input{position:absolute;margin:5px}.cbx-container+.cbx-container,.cbx-container+label,label+.cbx-container{margin-left:5px}label .cbx{margin:0 5px}.cbx-block+.cbx-block,.cbx-block+label,label .cbx-block,label+.cbx-block{margin-left:0;margin-right:0}.cbx-xs{width:16px;height:16px;font-size:10px}.cbx-sm{width:20px;height:20px;font-size:13px}.cbx-md{width:24px;height:24px;font-size:15px}.cbx-lg{border-radius:4px;width:30px;height:30px;font-size:20px}.cbx-xl{border-radius:5px;width:36px;height:36px;font-size:24px}.cbx-icon{position:absolute;margin:1px;top:0;left:0;bottom:0;right:0}.cbx-icon-null{background-color:#333}.has-error .cbx-icon-null{background-color:#843534}.has-success .cbx-icon-null{background-color:#2b542c}.has-warning .cbx-icon-null{background-color:#66512c}.cbx-xs .cbx-icon-null{padding:4px;margin:2px}.cbx-sm .cbx-icon-null{padding:5px;margin:3px}.cbx-md .cbx-icon-null{padding:6px;margin:4px}.cbx-lg .cbx-icon-null{padding:8px;margin:5px}.cbx-xl .cbx-icon-null{padding:10px;margin:6px}.cbx-disabled .cbx-icon-null{background-color:#aaa}.cbx-active{border:1px solid #ccc;box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;color:#333}.cbx-active:focus,.cbx-active:hover{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.cbx-disabled{color:#ddd;background:#fcfcfc;border:1px solid #ddd;cursor:not-allowed}.has-success .cbx-active{border-color:#3c763d;color:#2b542c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-success .cbx-active:focus,.has-success .cbx-active:hover{border-color:#2b542c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168}.has-warning .cbx-active{border-color:#8a6d3b;color:#66512c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-warning .cbx-active:focus,.has-warning .cbx-active:hover{border-color:#66512c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b}.has-error .cbx-active{border-color:#a94442;color:#843534;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-error .cbx-active:focus,.has-error .cbx-active:hover{border-color:#843534;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483}.has-success .cbx-label{color:#2b542c}.has-warning .cbx-label{color:#66512c}.has-error .cbx-label{color:#843534}.cbx-block{display:block;text-align:left}.cbx-block+.cbx-block{margin:5px 0 0}
        /* theme-krajee-flatblue.css */
        .cbx-krajee-flatblue .cbx{border-radius:0}.cbx-krajee-flatblue .cbx-xs .cbx-icon-null{padding:4px;margin:2px}.cbx-krajee-flatblue .cbx-sm .cbx-icon-null{padding:5px;margin:3px}.cbx-krajee-flatblue .cbx-md .cbx-icon-null{padding:6px;margin:4px}.cbx-krajee-flatblue .cbx-lg .cbx-icon-null{padding:8px;margin:5px}.cbx-krajee-flatblue .cbx-xl .cbx-icon-null{padding:10px;margin:6px}.cbx-krajee-flatblue .cbx-disabled .cbx-icon-null{background-color:#aaa}.cbx-krajee-flatblue .cbx-active .cbx-icon-null{background-color:#3c8dbc}.cbx-krajee-flatblue .cbx-active{color:#3c8dbc;box-shadow:none;-webkit-transition:border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.cbx-krajee-flatblue .cbx-active:focus,.cbx-krajee-flatblue .cbx-active:hover{border-color:#0073b7;outline:0;box-shadow:none}.cbx-krajee-flatblue .cbx-active:focus{color:#0073b7}.cbx-krajee-flatblue .cbx-disabled{color:#ddd;background:#fcfcfc;border:1px solid #ddd;cursor:not-allowed}.has-success .cbx-krajee-flatblue .cbx-active{border-color:#00a65a;color:#00a65a;box-shadow:none}.has-success .cbx-krajee-flatblue .cbx-active:focus,.has-success .cbx-krajee-flatblue .cbx-active:hover{border-color:#00a65a;box-shadow:none}.has-warning .cbx-krajee-flatblue .cbx-active{border-color:#f39c12;color:#f39c12;box-shadow:none}.has-warning .cbx-krajee-flatblue .cbx-active:focus,.has-warning .cbx-krajee-flatblue .cbx-active:hover{border-color:#f39c12;box-shadow:none}.has-error .cbx-krajee-flatblue .cbx-active{border-color:#dd4b39;color:#dd4b39;box-shadow:none}.has-error .cbx-krajee-flatblue .cbx-active:focus,.has-error .cbx-krajee-flatblue .cbx-active:hover{border-color:#dd4b39;box-shadow:none}.has-error .cbx-krajee-flatblue .cbx-icon-null{background-color:#dd4b39}.has-success .cbx-krajee-flatblue .cbx-icon-null{background-color:#00a65a}.has-warning .cbx-krajee-flatblue .cbx-icon-null{background-color:#f39c12}.has-error .cbx-krajee-flatblue .cbx-label{color:#dd4b39}.has-success .cbx-krajee-flatblue .cbx-label{color:#00a65a}.has-warning .cbx-krajee-flatblue .cbx-label{color:#f39c12}
    </style>
</head>
<body>
    <h1>Checkbox-X 範例</h1>
    <p>點擊下方標籤切換不同範例</p>

    <!-- 標籤按鈕 -->
    <div class="tab">
        <button class="tablinks" onclick="openTab(event, 'Tab1')" id="defaultOpen">範例 1: 基本 Checkbox-X</button>
        <button class="tablinks" onclick="openTab(event, 'Tab2')">範例 2: 預設選中 Checkbox-X</button>
        <button class="tablinks" onclick="openTab(event, 'Tab3')">範例 3: CheckBoxList 與狀態顯示</button>
    </div>

    <!-- 範例 1: 基本 Checkbox-X -->
    <div id="Tab1" class="tabcontent">
        <h2>範例 1: 基本 Checkbox-X</h2>
        <div>
            <input type="checkbox" id="checkbox1" />
            <label for="checkbox1">Indeterminate</label>
            <br /><br />
            <button onclick="alert($('#checkbox1').val())">顯示狀態</button>
        </div>
    </div>

    <!-- 範例 2: 預設選中 Checkbox-X -->
    <div id="Tab2" class="tabcontent">
        <h2>範例 2: 預設選中 Checkbox-X</h2>
        <div class="container">
            <label for="checkbox2" class="cbx-label">Checked</label>
            <input type="checkbox" id="checkbox2" value="1" checked data-toggle="checkbox-x" />
        </div>
    </div>

    <!-- 範例 3: CheckBoxList 與狀態顯示 -->
    <div id="Tab3" class="tabcontent">
        <h2>範例 3: CheckBoxList 與狀態顯示</h2>
        <div class="container">
            <div class="checkbox-list">
                <input type="checkbox" id="checkbox3_0" />
                <label for="checkbox3_0">AA</label><br />
                <input type="checkbox" id="checkbox3_1" />
                <label for="checkbox3_1">BB</label><br />
                <input type="checkbox" id="checkbox3_2" />
                <label for="checkbox3_2">CC</label>
            </div>
            <br />
            <button onclick="showCheckBoxListStatus()">顯示狀態</button>
            <input type="hidden" id="HiddenField1" />
        </div>
    </div>

    <script>
        /* checkbox-x.js */
        !function(e){"use strict";var n=function(n,t){var c=this;c.$element=e(n),c.disabled=c.$element.attr("disabled")||c.$element.attr("readonly"),c.initialValue=c.$element.val(),c.init(t)};n.prototype={constructor:n,init:function(n){var t=this,c=t.$element,i=c.is(":checkbox"),a=c.is("select"),o=!i&&!a,l=a&&!n.enclosedLabel,r=n.inline?"cbx-container":"cbx-container cbx-block";n.theme&&(r+=" cbx-"+n.theme),t.options=n,t.clearEvents(),c.removeClass("cbx-loading"),t.initCheckbox()&&(void 0===t.$container?(t.$container=e(document.createElement("div")).addClass(r).html(t.render()),t.$container.insertBefore(c).append(c),c.hide()):t.$container.before(c).addClass(r).html(t.render()).append(c),t.$cbx=t.$container.find(".cbx"),c.closest("form").on("reset.checkbox",function(){t.reset()}),t.$cbx.off("click.checkbox keyup.checkbox").on("click.checkbox",function(){return!i||n.enclosedLabel||n.useNative||t.disabled?void((o&&!n.enclosedLabel||l)&&t.change()):void c.trigger("change")}).on("keyup.checkbox",function(e){32===e.which&&(t.change(),e.preventDefault())}),(o||a)&&c.on("click.checkbox",function(){t.change()}))},initCheckbox:function(){var e,n=this,t=n.$element,c=n.options;return t.is(":checkbox")?(t.prop("checked")||(e=t.prop("indeterminate")?c.valueNull:c.valueUnchecked,t.val(e)),t.on("change.checkbox",function(){n.change()}),c.useNative?(t.removeClass("cbx-loading"),!1):!0):!0},change:function(){var e,n=this,t=n.$element;n.disabled||(e=n.getValue(),t.val(e),n.validateCheckbox(e),n.options.useNative||n.$cbx.html(n.getIndicator()))},getValue:function(){var e=this,n=e.$element.val(),t=e.options;switch(n){case t.valueUnchecked:return e.options.threeState?t.valueNull:t.valueChecked;case t.valueChecked:return t.valueUnchecked;default:return t.valueChecked}},setCheckboxProp:function(e){var n=this,t=n.$element,c=n.options;switch(t.prop("indeterminate",!1).prop("checked",!1),e){case c.valueChecked:t.prop("checked",!0);break;case c.valueUnchecked:break;default:c.threeState&&t.prop("indeterminate",!0)}},validateCheckbox:function(e){var n=this,t=n.$element,c=t.is(":checkbox");return c?void n.setCheckboxProp(e):void t.trigger("change")},clearEvents:function(){var e=this,n=e.$element,t=e.$container?e.$container.find(".cbx"):null;n.off(".checkbox"),t&&t.off(".checkbox")},destroy:function(){var e=this,n=e.$element;e.clearEvents(),e.$container.before(n).remove(),n.removeData().show()},reset:function(){var e=this,n=e.$element;n.val(e.initialValue),e.refresh(),n.trigger("resetinput.checkbox")},refresh:function(n){var t=this;n?t.init(e.extend(t.options,n)):(t.disabled=t.$element.attr("disabled")||t.$element.attr("readonly"),t.init(t.options)),t.initialValue=t.$element.val()},getIndicator:function(e){var n=this,t=n.options,c=t.iconUnchecked,i=n.$element,a=i.val(),o=i.is(":checkbox")?i.prop("indeterminate"):a!==t.valueUnchecked&&(n.options.threeState||e);return'<span class="cbx-icon">'+(a===t.valueChecked?t.iconChecked:o?t.iconNull:c)+"</span>"},render:function(){var e=this,n=e.options,t=e.getIndicator(n.allowThreeValOnInit),c=e.disabled||!n.tabindex?"":' tabindex="'+n.tabindex+'"',i=n.size,a="cbx cbx-"+i+(e.disabled?" cbx-disabled":" cbx-active");return'<div class="'+a+'"'+c+">"+t+"</div>"}},e.fn.checkboxX=function(t){var c=Array.apply(null,arguments),i=[];switch(c.shift(),this.each(function(){var a=e(this),o=a.data("checkboxX"),l="object"==typeof t&&t;o||(o=new n(this,e.extend(!0,{},e.fn.checkboxX.defaults,l,a.data())),a.data("checkboxX",o)),"string"==typeof t&&i.push(o[t].apply(o,c))}),i.length){case 0:return this;case 1:return i[0];default:return i}},e.fn.checkboxX.defaults={theme:"",threeState:!0,inline:!0,iconChecked:'<i class="glyphicon glyphicon-ok"></i>',iconUnchecked:" ",iconNull:'<div class="cbx-icon-null"></div>',valueChecked:"1",valueUnchecked:"0",valueNull:"",size:"md",enclosedLabel:!1,useNative:!1,allowThreeValOnInit:!1,tabindex:"1000"},e.fn.checkboxX.Constructor=n,e('input[data-toggle="checkbox-x"]').addClass("cbx-loading"),e(document).ready(function(){e('input[data-toggle="checkbox-x"]').checkboxX()})}(window.jQuery);

        // Tab 切換功能
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }

        // 範例 3 顯示狀態功能
        function showCheckBoxListStatus() {
            var ary = [];
            $("input:checkbox").each(function () {
                ary.push($(this).val() == "" ? "null" : $(this).val());
            });
            var labels = ["AA", "BB", "CC"];
            var result = "";
            for (var i = 0; i < ary.length; i++) {
                result += labels[i] + " 所選的狀態為: " + ary[i] + "\n";
            }
            alert(result);
        }

        // 初始化
        $(document).ready(function() {
            // 範例 1
            $("#checkbox1").checkboxX();

            // 範例 2 已由 data-toggle="checkbox-x" 自動初始化

            // 範例 3
            $("#checkbox3_0, #checkbox3_1, #checkbox3_2").checkboxX();
            $("#checkbox3_0, #checkbox3_1, #checkbox3_2").on("change", function () {
                var ary = [];
                $("#checkbox3_0, #checkbox3_1, #checkbox3_2").each(function () {
                    ary.push($(this).val() == "" ? "null" : $(this).val());
                });
                $("#HiddenField1").val(ary.toString());
            });

            // 預設顯示第一個 Tab
            document.getElementById("defaultOpen").click();
        });
    </script>
</body>
</html>